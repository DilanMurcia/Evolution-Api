##########################
# CONFIGURACIÓN DEL SERVIDOR
##########################

# Tipo de servidor: http o https
SERVER_TYPE=http

# Puerto en el que se ejecutará la aplicación
SERVER_PORT=8080

# URL base del servidor de esta instancia
SERVER_URL=http://localhost:8080

# URL interna de referencia (en caso de que difiera para uso interno)
# ⚠️ Esta variable está duplicada, asegúrate de usar solo una si es necesario
# SERVER_URL=http://localhost:3000

# DSN de Sentry (monitorización de errores) - dejar vacío si no se usa
SENTRY_DSN=

##########################
# CONFIGURACIÓN DE CORS
##########################

# Orígenes permitidos. Usa * para permitir todos o separa por comas
CORS_ORIGIN=*

# Métodos HTTP permitidos
CORS_METHODS=GET,POST,PUT,DELETE

# Permitir credenciales en las solicitudes
CORS_CREDENTIALS=true

##########################
# CONFIGURACIÓN DE LOGS
##########################

# Niveles de logs a mostrar
LOG_LEVEL=ERROR,WARN,DEBUG,INFO,LOG,VERBOSE,DARK,WEBHOOKS,WEBSOCKET

# Mostrar logs a color
LOG_COLOR=true

# Nivel de logs para la librería Baileys (cliente de WhatsApp)
LOG_BAILEYS=error

##########################
# CONTROL DE INSTANCIAS
##########################

# Tiempo para eliminar instancia sin conexión (en milisegundos). false = nunca eliminar
DEL_INSTANCE=false

# Nombre del cliente que conecta a la base de datos (diferencia varias instalaciones)
DATABASE_CONNECTION_CLIENT_NAME=evolution_exchange

##########################
# GUARDADO DE DATOS EN BASE DE DATOS
##########################

DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_DATA_HISTORIC=true

##########################
# WEBSOCKET
##########################

# Habilitar conexión WebSocket
WEBSOCKET_ENABLED=false

# Activar eventos globales por WebSocket
WEBSOCKET_GLOBAL_EVENTS=false

##########################
# WEBHOOK GLOBAL (INTEGRACIÓN CON n8n U OTROS)
##########################

# Habilitar webhook global
WEBHOOK_GLOBAL_ENABLED=true

# URL del webhook global (ej: integración con n8n)
WEBHOOK_GLOBAL_URL=http://localhost:5678/webhook/evolution

# Escuchar todos los eventos o solo los activados
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

# Eventos específicos habilitados para el webhook global
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_MESSAGES_UPDATE=true
WEBHOOK_EVENTS_MESSAGES_DELETE=true
WEBHOOK_EVENTS_SEND_MESSAGE=true
WEBHOOK_EVENTS_QRCODE_UPDATED=true

##########################
# AUTENTICACIÓN
##########################

# Clave de API para autenticar llamadas
AUTHENTICATION_API_KEY=CLAVE

# Mostrar instancias activas en el endpoint de consulta
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true

##########################
# OTROS
##########################

# Idioma por defecto del sistema
LANGUAGE=es

# Versión simulada del cliente (útil para emular versión específica del WhatsApp)
CONFIG_SESSION_PHONE_VERSION=2.3000.1023204200


##########################
# CONFIGURACIÓN DE BASE DE DATOS MYSQL
##########################

DATABASE_PROVIDER=mysql
DATABASE_URL=mysql://evolution:secret@mysql:3306/evolution
DATABASE_CONNECTION_URI='mysql://evolution:secret@mysql:3306/evolution?schema=public'

# Variables específicas para Docker MySQL
MYSQL_ROOT_PASSWORD=rootpass
MYSQL_DATABASE=evolution
MYSQL_USER=evolution
MYSQL_PASSWORD=secret


##########################
# CONFIGURACIÓN DE REDIS (CACHÉ)
##########################

CACHE_ENGINE=redis
CACHE_REDIS_URI=redis://:secret@redis:6379/6
REDIS_URL=redis://:secret@redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=secret
REDIS_USE_TLS=false

##########################
# LOG GENERAL
##########################

LOGGER=true
